"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[886],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),d=r,g=u["".concat(s,".").concat(d)]||u[d]||m[d]||l;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5575:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return c},assets:function(){return p},toc:function(){return m},default:function(){return d}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),o=["components"],i={sidebar_position:3,title:"Migrating To V2"},s=void 0,c={unversionedId:"migrating",id:"migrating",title:"Migrating To V2",description:"Overview",source:"@site/docs/migrating.mdx",sourceDirName:".",slug:"/migrating",permalink:"/BeAPI/docs/beta/migrating",editUrl:"https://github.com/beapijs/BeAPI/tree/docs/docs/migrating.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Migrating To V2"},sidebar:"sidebar",previous:{title:"Basic Usage",permalink:"/BeAPI/docs/beta/usage"},next:{title:"Databasing",permalink:"/BeAPI/docs/beta/examples/databasing"}},p={},m=[{value:"Overview",id:"overview",level:2},{value:"Create App",id:"create-app",level:2},{value:"Client",id:"client",level:2},{value:"Database",id:"database",level:2},{value:"Intervals and Timeouts",id:"intervals-and-timeouts",level:2},{value:"Console",id:"console",level:2},{value:"Utils",id:"utils",level:2},{value:"Classes",id:"classes",level:2},{value:"Types",id:"types",level:2},{value:"Common Things That Changed",id:"common-things-that-changed",level:2},{value:"executeCommand",id:"executecommand",level:3},{value:"Commands",id:"commands",level:3},{value:"Events",id:"events",level:3},{value:"World",id:"world",level:3},{value:"Entities",id:"entities",level:3},{value:"Players",id:"players",level:3},{value:"Socket",id:"socket",level:3}],u={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("p",null,"When transferring BeAPI to utilize NPM's create app features we realized how\nawkward BeAPI's API was in general. It was kinda hard to understand and\neven furthermore hard to document. With this in mind, we decided to completely\nrefactor BeAPI to be object-oriented rather than well... ",(0,l.kt)("em",{parentName:"p"},"a mess"),"."),(0,l.kt)("h2",{id:"create-app"},"Create App"),(0,l.kt)("p",null,"Before you do anything, it is recommended to follow the installing guide located\n",(0,l.kt)("a",{parentName:"p",href:"/docs/starting#scaffolding-your-first-project"},"here")," in a new project."),(0,l.kt)("p",null,"BeAPI is an NPM module now therefore you will not be importing files locally anymore."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { ... } from 'beapi-core';\n")),(0,l.kt)("h2",{id:"client"},"Client"),(0,l.kt)("p",null,"Everything has been changed to an object-oriented style. The main class where\neverything is located is now exported as ",(0,l.kt)("a",{parentName:"p",href:"/docs/classes/client"},"Client"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\n")),(0,l.kt)("h2",{id:"database"},"Database"),(0,l.kt)("p",null,"We have added a new memory-based persistent database with better performance and\nmore reliability. It is breaking and very different from before."),(0,l.kt)("p",null,"see ",(0,l.kt)("a",{parentName:"p",href:"/docs/examples/databasing"},"databasing")," for more info."),(0,l.kt)("h2",{id:"intervals-and-timeouts"},"Intervals and Timeouts"),(0,l.kt)("p",null,"The Interval and Timeout methods now are added to ",(0,l.kt)("inlineCode",{parentName:"p"},"globalThis")," therefore they do not need to\nbe imported anymore. You can use them as if it is vanilla Javascript."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"const interval = setInterval(() => {\n  console.log('Interval!');\n}, 100);\n\nclearInterval(interval);\n\nconst timeout = setTimeout(() => {\n  console.log('Timeout!');\n}, 100);\n\nclearTimeout(timeout);\n")),(0,l.kt)("h2",{id:"console"},"Console"),(0,l.kt)("p",null,"We once again targeted ",(0,l.kt)("inlineCode",{parentName:"p"},"globalThis")," to polyfill most common console methods."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"console.log('Log');\nconsole.warn('Warn');\nconsole.error('Error');\nconsole.info('Info');\nconsole.debug('Debug');\n")),(0,l.kt)("h2",{id:"utils"},"Utils"),(0,l.kt)("p",null,"Some useful utils are exported as normal methods through the main export."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import {\n  between,\n  binToString,\n  stringToBin,\n  deprecated, // Used by BeAPI event checker, serves no other purpose.\n  getAll,\n  runCommand,\n  genUuid,\n  verifyUuid,\n} from 'beapi-core';\n")),(0,l.kt)("h2",{id:"classes"},"Classes"),(0,l.kt)("p",null,"All classes are exported and accessible. Most classes do not need to be constructed by you as a client."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { Player } from 'beapi-core';\n")),(0,l.kt)("h2",{id:"types"},"Types"),(0,l.kt)("p",null,"All types are exported and also accessible."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import type { Awaitable } from 'beapi-core';\n")),(0,l.kt)("h2",{id:"common-things-that-changed"},"Common Things That Changed"),(0,l.kt)("h3",{id:"executecommand"},"executeCommand"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { executeCommand } from '...';\nexecuteCommand(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.executeCommand(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { runCommand } from 'beapi-core';\nrunCommand(...);\n")),(0,l.kt)("h3",{id:"commands"},"Commands"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { commands } from '...';\ncommands.registerCommand(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.commands.register(...);\n")),(0,l.kt)("h3",{id:"events"},"Events"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { events } from '...';\nevents.on(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.on(...);\n")),(0,l.kt)("h3",{id:"world"},"World"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { world } from '...';\nworld.sendMessage(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.world.sendMessage(...);\n")),(0,l.kt)("h3",{id:"entities"},"Entities"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { entities } from '...';\nentities.getEntityList(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.entities.getAll(...);\n")),(0,l.kt)("h3",{id:"players"},"Players"),(0,l.kt)("p",null,"\u274c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { players } from '...';\nplayers.getEntityList(...);\n")),(0,l.kt)("p",null,"\u2714\ufe0f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"import { client } from 'beapi-core';\nclient.players.getAll(...);\n")),(0,l.kt)("h3",{id:"socket"},"Socket"),(0,l.kt)("p",null,"Removed..."))}d.isMDXComponent=!0}}]);